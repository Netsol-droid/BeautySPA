<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeautySPA - Belleza y Bienestar</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase + import map (a√±adidos) -->
    <script type="importmap">
    {
      "imports": {
        "firebase/compat/app": "https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js",
        "firebase/compat/firestore": "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"
      }
    }
    </script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <h1>BeautySPA</h1>
                <span>Belleza & Bienestar</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#inicio" onclick="handleModuleClick('home'); return false;">Inicio</a></li>
                <li><a href="#servicios" onclick="handleModuleClick('services'); return false;">Servicios</a></li>
                <li><a href="#zonas" onclick="handleModuleClick('zone'); return false;">Zonas</a></li>
                <li><a href="#productos" onclick="handleModuleClick('products'); return false;">Productos</a></li>
                <li><a href="#citas" onclick="handleModuleClick('booking'); return false;">Citas</a></li>
                <li><a href="#contacto" onclick="handleModuleClick('contact'); return false;">Contacto</a></li>
                <li class="nav-user-li">
                    <button class="nav-user-btn" onclick="authManager.loginAsUser()" title="Acceder como cliente">
                        Acceder como cliente
                    </button>
                </li>
                <li class="nav-info-li">
                    <button class="info-nav-btn" onclick="showInfoModal()" title="Inf√≥rmate">
                        Inf√≥rmate
                    </button>
                </li>
                <li><button class="admin-btn" onclick="showAdminModal()">Admin</button></li>
            </ul>
            <div class="hamburger" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main style="padding-top: 80px;">
        <!-- Login Section -->
        <section id="login" class="login-section">
            <div class="container">
                <div class="login-container">
                    <div class="login-header">
                        <h1>BeautySPA</h1>
                        <p>Belleza & Bienestar</p>
                    </div>
                    <form class="login-form" id="loginForm">
                        <div class="form-group">
                            <label for="username">Usuario</label>
                            <input type="text" id="username" required placeholder="Ingresa tu usuario">
                        </div>
                        <div class="form-group">
                            <label for="password">Contrase√±a</label>
                            <input type="password" id="password" required placeholder="Ingresa tu contrase√±a">
                        </div>
                        <!-- Role selection removed: only admin login via the form -->
                        <button type="submit" class="login-btn">Iniciar Sesi√≥n (Administrador)</button>
                        <!-- "Acceder como cliente" movido al men√∫ de navegaci√≥n -->
                    </form>
                    <div style="margin: 1.5rem 0; text-align: center;">
                        <p style="color: var(--text-light); margin-bottom: 1rem;">¬øProblemas para iniciar sesi√≥n?</p>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                            <button type="button" class="contact-btn email-btn" onclick="contactAdmin('email')">
                                üìß Contactar por Email
                            </button>
                            <button type="button" class="contact-btn whatsapp-btn" onclick="contactAdmin('whatsapp')">
                                üí¨ Contactar por WhatsApp
                            </button>
                        </div>
                    </div>
                    <div class="login-footer">
                        <p>¬øProblemas para iniciar sesi√≥n? Contacta al administrador</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Hero Section -->
        <section id="inicio" class="hero" style="display: none;">
            <div class="hero-content">
                <h1 class="hero-title">Bienvenido a BeautySPA</h1>
                <p class="hero-subtitle">Tu oasis de belleza y bienestar</p>
                <button class="cta-button" onclick="window.scrollToSection ? scrollToSection('servicios') : document.getElementById('servicios').scrollIntoView({behavior: 'smooth'})">
                    Descubre nuestros servicios
                </button>
            </div>
            <div class="hero-image">
                <img id="heroImg" src="hero-image.png" alt="BeautySPA" class="floating">
                <!-- Hidden file input for admin-only hero image replacement -->
                <input id="heroImageInput" type="file" accept="image/*" style="display:none" onchange="handleHeroImageUpload(this)">
            </div>
        </section>

        <!-- Services Section -->
        <section id="servicios" class="services">
            <div class="container">
                <h2 class="section-title">Nuestros Servicios</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--text-light);">
                    üíÖ Haz clic en cualquier servicio para reservar una cita autom√°ticamente
                </p>
                <div class="services-grid" id="servicesGrid">
                    <!-- Services will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Zones Section -->
        <section id="zonas" class="zones">
            <div class="container">
                <h2 class="section-title">Nuestras Zonas Exclusivas</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--text-light);">
                    üëÜ Haz clic en cualquier servicio para agendarlo autom√°ticamente
                </p>
                <div class="zones-container">
                    <div class="zone-card male-zone" onclick="handleModuleClick('zone', 'male')">
                        <h3>Zona Masculina</h3>
                        <p>Servicios especializados para caballeros</p>
                        <ul id="maleServices">
                            <!-- Male services will be loaded here -->
                        </ul>
                    </div>
                    <div class="zone-card female-zone" onclick="handleModuleClick('zone', 'female')">
                        <h3>Zona Femenina</h3>
                        <p>Servicios especializados para damas</p>
                        <ul id="femaleServices">
                            <!-- Female services will be loaded here -->
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="productos" class="products">
            <div class="container">
                <h2 class="section-title">Productos de Belleza</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--text-light);">
                    üõçÔ∏è Haz clic en cualquier producto para agregarlo al carrito
                </p>
                <div class="cart-widget" id="cartWidget">
                    <button onclick="toggleCart()" class="cart-button">
                        üõí <span id="cartCount">0</span> | Total: <span id="cartTotal">0</span>
                    </button>
                </div>
                <div class="products-grid" id="productsGrid">
                    <!-- Products will be loaded dynamically -->
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="citas" class="booking">
            <div class="container">
                <h2 class="section-title">Reserva tu Cita</h2>
                <form class="booking-form" id="bookingForm" onclick="handleModuleClick('booking')">
                    <div class="form-group">
                        <label for="name">Nombre completo</label>
                        <input type="text" id="name" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Tel√©fono</label>
                        <input type="tel" id="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="emailBooking">Correo electr√≥nico</label>
                        <input type="email" id="emailBooking" required placeholder="correo@ejemplo.com">
                    </div>
                    <div class="form-group">
                        <label for="service">Servicio</label>
                        <select id="service" required>
                            <option value="">Selecciona un servicio</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="date">Fecha</label>
                        <input type="date" id="date" required>
                    </div>
                    <div class="form-group">
                        <label for="time">Hora</label>
                        <select id="time" required>
                            <option value="">Selecciona una hora</option>
                        </select>
                    </div>
                    <button type="submit" class="submit-btn">Reservar Cita</button>
                </form>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contacto" class="contact">
            <div class="container">
                <h2 class="section-title">Contacto</h2>
                <div class="contact-info" id="contactInfo">
                    <!-- Contact info will be loaded dynamically -->
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>BeautySPA</h3>
                    <p>Tu centro de belleza y bienestar de confianza</p>
                </div>
                <div class="footer-section">
                    <h4>Enlaces r√°pidos</h4>
                    <ul>
                        <li><a href="#servicios">Servicios</a></li>
                        <li><a href="#productos">Productos</a></li>
                        <li><a href="#citas">Reservar cita</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Informaci√≥n</h4>
                    <button class="info-btn" onclick="showInfoModal()">Inf√≥rmate</button>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BeautySPA. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeAdminModal()">&times;</span>
            <h2>Panel de Administraci√≥n</h2>
            <div class="admin-menu">
                <button onclick="showConfigSection('services')">Configurar Servicios</button>
                <button onclick="showConfigSection('products')">Configurar Productos</button>
                <button onclick="showConfigSection('contact')">Configurar Contacto</button>
                <button onclick="showConfigSection('general')">Configuraci√≥n General</button>
                <button onclick="showConfigSection('appointments')">Historial de Citas</button>
            </div>
            <div id="configSection" class="config-section">
                <!-- Configuration forms will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Info Modal -->
    <div id="infoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeInfoModal()">&times;</span>
            <h2>Informaci√≥n del Sistema</h2>
            <div class="info-content" id="infoContent">
                <!-- Info content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" onclick="closeCartModal()">&times;</span>
            <h2>üõí Carrito de Compras</h2>
            <div id="cartContent">
                <!-- Cart content will be loaded here -->
            </div>
            <div id="checkoutSection">
                <!-- Checkout form will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Sales History Section in Admin -->
    <div id="salesHistorySection" style="display: none;">
        <h3>Historial de Ventas</h3>
        <div id="salesHistoryContent">
            <!-- Sales history will be loaded here -->
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>